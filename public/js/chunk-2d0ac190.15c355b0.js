(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ac190"],{"17a5":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("v-app",{attrs:{id:"inspire"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.articulos,"sort-by":"nombre"},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("Artículos")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,o=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"teal accent-3",dark:""},on:{click:function(e){t.editedItem={},t.x=0}}},"v-btn",o,!1),i),[t._v(" Nuevo ")]),a("v-btn",{staticClass:"mb-2",attrs:{color:"teal accent-3",dark:""},on:{click:function(e){return t.crearPDF()}}},[t._v("Imprimir")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.titulo))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:t.editedItem.nombre,callback:function(e){t.$set(t.editedItem,"nombre",e)},expression:"editedItem.nombre"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Código"},model:{value:t.editedItem.codigo,callback:function(e){t.$set(t.editedItem,"codigo",e)},expression:"editedItem.codigo"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:t.categorias,label:"Categoría"},model:{value:t.categoria,callback:function(e){t.categoria=e},expression:"categoria"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Stock"},model:{value:t.editedItem.stock,callback:function(e){t.$set(t.editedItem,"stock",e)},expression:"editedItem.stock"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Precio Venta"},model:{value:t.editedItem.precioVenta,callback:function(e){t.$set(t.editedItem,"precioVenta",e)},expression:"editedItem.precioVenta"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Descripción"},model:{value:t.editedItem.descripcion,callback:function(e){t.$set(t.editedItem,"descripcion",e)},expression:"editedItem.descripcion"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Estado"},model:{value:t.editedItem.estado,callback:function(e){t.$set(t.editedItem,"estado",e)},expression:"editedItem.estado"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Cancelar ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.guardar}},[t._v(" Guardar ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.Modal,callback:function(e){t.Modal=e},expression:"Modal"}},[a("v-card",[1==t.Accion?a("v-card-title",{staticClass:"headline"},[t._v(" Activar Item ")]):t._e(),2==t.Accion?a("v-card-title",{staticClass:"headline"},[t._v(" Desactivar Item ")]):t._e(),a("v-card-text",[t._v(" Estás a punto de "),1==t.Accion?a("span",[t._v("activar ")]):t._e(),2==t.Accion?a("span",[t._v("desactivar ")]):t._e(),t._v(" el item "+t._s(t.Nombre)+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",flat:"flat"},on:{click:function(e){return t.activarDesactivarCerrar()}}},[t._v(" Cancelar ")]),1==t.Accion?a("v-btn",{attrs:{color:"primary",flat:"flat"},on:{click:function(e){return t.activar()}}},[t._v(" Activar ")]):t._e(),2==t.Accion?a("v-btn",{attrs:{color:"primary",flat:"flat"},on:{click:function(e){return t.desactivar()}}},[t._v(" Desactivar ")]):t._e()],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.ModalEliminar,callback:function(e){t.ModalEliminar=e},expression:"ModalEliminar"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(" Eliminar Item ")]),a("v-card-text",[t._v(" Estás a punto de eliminar el item "),a("v-spacer"),t._v(" "+t._s(t.Nombre)+" ")],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",flat:"flat"},on:{click:function(e){return t.DeleteCerrar()}}},[t._v(" Cancelar ")]),a("v-btn",{attrs:{color:"primary",flat:"flat"},on:{click:function(e){return t.eliminar()}}},[t._v(" Eliminar ")])],1)],1)],1)],1)]},proxy:!0},{key:"item.opciones",fn:function(e){var i=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{color:"teal accent-3",small:""},on:{click:function(e){return t.editar(i)}}},[t._v(" mdi-pencil ")]),i.estado?[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(2,i)}}},[t._v(" mdi-block-helper ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.activarDesactivarMostrar(1,i)}}},[t._v(" mdi-check ")])]]}},{key:"item.estado",fn:function(e){var i=e.item;return[i.estado?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v(" Reset ")])]},proxy:!0}],null,!0)})],1)],1)},o=[],c=(a("d81d"),a("bc3a")),r=a.n(c),n=a("8baf"),s=(a("0da4"),{data:function(){return{x:0,select:null,categoria:[],categorias:[],articulos:[],dialog:!1,headers:[{text:"Nombre",align:"start",sortable:!1,value:"nombre"},{text:"Código",value:"codigo"},{text:"Categoría",value:"categoria.nombre"},{text:"Stock",value:"stock"},{text:"Precio Venta",value:"precioVenta"},{text:"Descripcion",value:"descripcion"},{text:"Estado",value:"estado"},{text:"Opciones",value:"opciones",sortable:!1}],editedItem:{nombre:"",categoria:0,stock:0,precioVenta:0,descripcion:0,estado:0}}},computed:{titulo:function(){return 0==this.x?"Nuevo":"Editar"}},watch:{dialog:function(t){t||this.cerrar()}},created:function(){this.listar(),this.selectCategorias()},methods:{listar:function(){var t=this;r.a.get("articulos",t.$store.getters.header).then((function(e){t.articulos=e.data.articulos})).catch()},limpiar:function(){this.id="",this.nombre="",this.descripcion="",this.valida=0,this.validaMensaje=[],this.editedIndex=-1},validar:function(){return this.valida=0,this.validaMensaje=[],(this.nombre.length<1||this.nombre.length>50)&&this.validaMensaje.push("El nombre del Artículo debe tener entre 1-50 caracteres."),this.descripcion.length>255&&this.validaMensaje.push("La descripción del Artículo no debe tener más de 255 caracteres."),this.validaMensaje.length&&(this.valida=1),this.valida},selectCategorias:function(){var t=this,e=[],a={headers:{token:this.$store.state.token}};r.a.get("categoria",a).then((function(a){e=a.data.categoria,e.map((function(e){t.categorias.push({text:e.nombre,value:e._id})}))})).catch((function(t){console.log(t)}))},guardar:function(){var t=this;if(0==this.x){console.log("Estoy guardando"+this.x);var e={headers:{token:this.$store.state.token}},a=this;r.a.post("articulos",{nombre:a.editedItem.nombre,codigo:a.editedItem.codigo,categoria:a.categoria,stock:a.editedItem.stock,precioVenta:a.editedItem.precioVenta,descripcion:a.editedItem.descripcion,estado:a.editedItem.estado},e).then((function(e){console.log(e),a.listar(),t.dialog=!1})).catch((function(t){console.log(t.response)}))}else{var i={headers:{token:this.$store.state.token}},o=this;r.a.put("articulos/".concat(o.id),{nombre:o.editedItem.nombre,categoria:o.editedItem.categoria,stock:o.editedItem.stock,precioVenta:o.editedItem.precioVenta,descripcion:o.editedItem.descripcion,estado:o.editedItem.estado},i).then((function(){o.listar(),o.dialog=!1})).catch((function(t){console.log(t)}))}},editar:function(t){this.x=1,console.log(t),this.id=t._id,this.editedItem=Object.assign({},t),this.dialog=!0},crearPDF:function(){var t=[{title:"nombre",dataKey:"nombre"},{title:"categoria",dataKey:"categoria"},{title:"stock",dataKey:"stock"},{title:"precioVenta",dataKey:"precioVenta"},{title:"descripcion",dataKey:"descripcion"},{title:"estado",dataKey:"estado"}],e=[];this.articulos.map((function(t){e.push({nombre:t.nombre,categoria:t.categoria,stock:t.stock,precioVenta:t.precioVenta,descripcion:t.descripcion,estado:t.estado})}));var a=new n["default"]("p","pt");a.autoTable(t,e,{margin:{top:60},addPageContent:function(){a.text("Lista de Artículos",40,30)}}),a.save("Articulos.pdf")},activarDesactivarMostrar:function(t,e){var a=e._id;if(console.log(t),2==t){console.log(a);var i=this,o={headers:{token:this.$store.state.token}};r.a.put("articulos/desactivar/".concat(a),{estado:0},o).then((function(){i.listar()})).catch((function(t){console.log(t)}))}else if(1==t){console.log(a);var c=this,n={headers:{token:this.$store.state.token}};r.a.put("articulos/activar/".concat(a),{estado:1},n).then((function(){c.listar()})).catch((function(t){console.log(t)}))}},DeleteCerrar:function(){this.ModalEliminar=0},activar:function(){var t=this,e={headers:{token:this.$store.state.token}};r.a.put("articulos/activar/".concat(t.Id),{},e).then((function(){t.Modal=0,t.Accion=0,t.Nombre="",t.Id="",t.listar()})).catch((function(t){console.log(t)}))},desactivar:function(){var t=this,e={headers:{token:this.$store.state.token}};r.a.put("articulos/desactivar/".concat(t.Id),{},e).then((function(){t.Modal=0,t.Accion=0,t.Nombre="",t.Id="",t.listar()})).catch((function(t){console.log(t)}))},cerrar:function(){this.dialog=!1},deleteItem:function(t){this.ModalEliminar=1,this.Nombre=t.nombre,this.Id=t._id},eliminar:function(){var t={id:this.id,token:this.$store.state.token};r.a.delete("articulos/".concat(t._id),this.headers).then((function(t){console.log(t)}))}}}),l=s,d=a("2877"),v=a("6544"),u=a.n(v),m=a("7496"),p=a("8336"),h=a("b0af"),f=a("99d9"),b=a("62ad"),g=a("a523"),k=a("8fea"),x=a("169a"),I=a("ce7e"),_=a("132d"),V=a("0fd9"),C=a("b974"),y=a("2fa4"),A=a("8654"),M=a("71d9"),$=a("2a7f"),D=Object(d["a"])(l,i,o,!1,null,null,null);e["default"]=D.exports;u()(D,{VApp:m["a"],VBtn:p["a"],VCard:h["a"],VCardActions:f["a"],VCardText:f["c"],VCardTitle:f["d"],VCol:b["a"],VContainer:g["a"],VDataTable:k["a"],VDialog:x["a"],VDivider:I["a"],VIcon:_["a"],VRow:V["a"],VSelect:C["a"],VSpacer:y["a"],VTextField:A["a"],VToolbar:M["a"],VToolbarTitle:$["a"]})}}]);
//# sourceMappingURL=chunk-2d0ac190.15c355b0.js.map